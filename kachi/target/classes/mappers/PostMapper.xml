<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper

  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"

  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

	
<mapper namespace="com.kachi.five.PostMapper"><!-- 파일마다 있는 SQL문들을 구분할 수 있는 이름 -->
		<!--useGeneratedKeys="true" keyProperty="postId" 를 이용해 insert 문을 실행한 후에 생성된 auto-increment ID 값을 얻을 수 있다  -->
	<insert id="insertPost" parameterType="Post" useGeneratedKeys="true" keyProperty="postId">
		INSERT INTO Post (writerId,  categoryId,  title, content, price, salePeriod, saleStatus, discountRate)
		VALUES (#{writerId},  #{categoryId},  #{title}, #{content}, #{price}, #{salePeriod}, #{saleStatus}, #{discountRate})
	</insert>
    <select id="getAllPosts" resultType="com.kachi.five.bean.PostBean">
 		 SELECT * FROM Post;
	</select>
	<select id="getPostsByID" resultType="com.kachi.five.bean.PostBean">
	  SELECT * FROM POST WHERE POSTID = #{postId};
	</select>

</mapper>